<!DOCTYPE html>
<html>
  <head>
    <!-- Load c3.css -->
    <link href="/static/c3-0.7.20.css" rel="stylesheet">

    <!-- Load d3.js and c3.js -->
    <script src="/static/d3-5.16.0.min.js" charset="utf-8"></script>
    <script src="/static/c3-0.7.20.min.js"></script>

    <script src="/static/virtual_tower.js"></script>
    <link rel="stylesheet" href="/static/virtual_tower.css">
  </head>

  <body>
    <div class="header">
      <div style="text-align:right">
	<h1 class="monospace" id="callsign">KB2GSD</h1>
      </div>
    </div>

    <div class="topnav" id="topnav">
      <a href="javascript:DisplayTelemetry();" class="navigation">Telemetry</a>
      <a href="javascript:DisplayCommunications();" class="navigation">Communications</a>
      <a href="javascript:DisplayDebug();" class="navigation" style="float:right">Debug</a>
    </div>

    <div class="row telemetry">
      <!-- Telemetry pane  -->
      <div class="chat-page">
        <div class="chat-inbox">
          <div class="chats">
	    <!-- Message container -->
	    <div class="msg-page" id="telemetry-container">
	      <div class="telemetry-domain">
		<p class="telemetry-domain-title">Packets transmitted</p>
		<div class="telemetry-domain-detail" id="telemetry-container-5">
		</div>
	      </div>
	      <div class="telemetry-domain">
		<p class="telemetry-domain-title">Packets received</p>
		<div class="telemetry-domain-detail" id="telemetry-container-4">
		</div>
	      </div>
	      <div class="telemetry-domain">
		<p class="telemetry-domain-title">TX errors</p>
		<div class="telemetry-domain-detail" id="telemetry-container-7">
		</div>
	      </div>
	      <div class="telemetry-domain">
		<p class="telemetry-domain-title">Dropped packets</p>
		<div class="telemetry-domain-detail" id="telemetry-container-6">
		</div>
	      </div>
	      <div class="telemetry-domain">
		<p class="telemetry-domain-title">TX queue size</p>
		<div class="telemetry-domain-detail" id="telemetry-container-8">
		</div>
	      </div>
	      <div class="telemetry-domain">
		<p class="telemetry-domain-title">Drone local time</p>
		<div class="telemetry-domain-detail" id="telemetry-container-0">
		</div>
	      </div>
	      <div class="telemetry-domain">
		<p class="telemetry-domain-title">RSSI (dBm)</p>
		<div class="telemetry-domain-detail" id="telemetry-container-2">
		</div>
	      </div>
	      <div class="telemetry-domain">
		<p class="telemetry-domain-title">Power consumption (W)</p>
		<div class="telemetry-domain-detail" id="telemetry-container-3">
		</div>
	      </div>
	    </div>
	  </div>
	</div>
      </div>
    </div>

    <div class="row debug">
      <div class="centercolumn">
	<div class="panel_widget">
	  <h2>Echo Service</h2>
	  <form action="javascript:CallEcho($('#echo_message').val())">
	    <input type="text" id="echo_message" value=""/>
	    <input type="submit" value="Send"/>
	  </form>
	  <span id="echo_reply"></span>
	</div>

	<div class="panel_widget">
	  <h2>Time Service</h2>
	  <div>
	    <span id="datetime_reply"></span>
	    <button id="datetime_button"></button>
	  </div>
	</div>
      </div>
    </div>

    <div class="row communications">
      <!-- Chat inbox  -->
      <div class="chat-page">
        <div class="chat-inbox">
          <div class="chats">
	    <!-- Message container -->
	    <div class="msg-page" id="msg-container"></div>
	  </div>

          <!-- msg-bottom section -->
          <div class="msg-bottom">
	    <form class="input-group" action="javascript:CallTransmit($('#transmit_message').val())">
	      <input id="transmit_message"
                type="text"
                class="form-control"
                placeholder="Write message..."
		/>

	      <span class="input-group-text send-icon">
                <i class="bi bi-send"></i>
	      </span>
	    </form>
          </div>
        </div>
      </div>
    </div>

    <div class="footer">
      <h2>Footer</h2>
      <span class="copyright">
	Copyright &copy;2023, Tennessee Valley Stellar Corporation. All Rights Reserved. Well, Some Rights Reserved. Maybe. It's complicated.
      </span>
    </div>

  </body>
</html>
